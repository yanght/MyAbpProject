@using Abp.Web.Mvc.Extensions
@section scripts
{
    @Html.IncludeScript("~/Views/Users/EditUser.js")
}
@{
    var response = Model as MyAbpProject.Web.Models.Users.EditUserModalViewModel;
    var user = response.User;
    var roles = response.Roles;
}
<form class="layui-form" style="width:80%;">
    <input type="hidden" id="userId" name="Id" value="@user.Id" />
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">用户名</label>
            <div class="layui-input-inline">
                <input type="text" name="UserName" lay-verify="required" autocomplete="off" placeholder="请输入用户名" class="layui-input">
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">登录名</label>
            <div class="layui-input-inline">
                <input type="text" name="Name" lay-verify="required" placeholder="请输入登录名" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">真实姓名</label>
            <div class="layui-input-inline">
                <input type="text" name="Surname" lay-verify="required" placeholder="请输入真实姓名" autocomplete="off" class="layui-input">
            </div>
        </div>
    </div>

    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">手机号码</label>
            <div class="layui-input-inline">
                <input type="text" name="PhoneNumber" lay-verify="required|phone" autocomplete="off" placeholder="请输入手机号码" class="layui-input">
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">邮箱</label>
            <div class="layui-input-inline">
                <input type="text" name="EmailAddress" lay-verify="required|email" placeholder="请输入邮箱" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-inline">
            <label class="layui-form-label">密码</label>
            <div class="layui-input-block">
                <input type="password" name="Password" placeholder="请输入密码" autocomplete="off" class="layui-input">
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">是否可用</label>
            <div class="layui-input-block">
                <input type="checkbox" name="IsActive" value="true" lay-skin="switch" lay-text="是|否">
            </div>
        </div>
    </div>

    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">所属角色</label>
            <div class="layui-input-block">
                @foreach (var r in roles)
                {
                    if (user != null & user.Roles != null)
                    {
                        <input type="checkbox" name="Rolename" value="@r.Name" @(user.Roles.Contains(r.Name) ? "checked" : "") title="@r.DisplayName">
                    }
                    else
                    {
                        <input type="checkbox" name="Rolename" value="@r.Name" title="@r.DisplayName">
                    }

                }

            </div>
        </div>
    </div>

    <div class="layui-form-item">
        <div class="layui-input-block">
            <button class="layui-btn" lay-submit="" lay-filter="addUser">立即提交</button>
            <button type="button" id="close" class="layui-btn layui-btn-primary">关闭</button>
        </div>
    </div>
</form>